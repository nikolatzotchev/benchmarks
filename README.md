# Benchmarks for RO-Crate libraries
This repository contains benchmarks to compare the performance of different RO-Crate libraries. They have been crates in the bachelor thesis *A Software Library for Research Data Packaging and Exchange* of Nikola Tzotchev.
## 1. single crate performance

These are done in the jupyter notebook named [single_crate_plot](single_crate_plot.ipynb)

There were 5 different benchmarks done here:
- contextual entities:

Here, a different amount of contextual entities is added to a single crate and the time is measured.
The crates look like this:
```json
{
    "@context": "https://w3id.org/ro/crate/1.1/context",
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "datePublished": "2022-05-03T11:40:05+00:00"
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": {
                "@id": "https://w3id.org/ro/crate/1.1"
            }
        },
        {
            "@id": "https://www.example.com/0",
            "@type": "Person",{
    "@context": "https://w3id.org/ro/crate/1.1/context",
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "datePublished": "2022-05-03T11:51:41+00:00",
            "hasPart": [
                {
                    "@id": "file0"
                },
                {
                    "@id": "file1"
                }
            ]
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": {
                "@id": "https://w3id.org/ro/crate/1.1"
            }
        },
        {
            "@id": "file0",
            "@type": "File",
            "author": {
                "@id": "#id0"
            }
        },
        {
            "@id": "#id0",
            "@type": "Person",
            "name": "Joe Bloggs"
        },
            "name": "Joe Bloggs"
        },
        {
            "@id": "https://www.example.com/1",
            "@type": "Person",
            "name": "Joe Bloggs"
        }, ........
```

- data entities remote:

Here, only remote data entities are added.
The crate looks like this:

```json

{
    "@context": "https://w3id.org/ro/crate/1.1/context",
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "datePublished": "2022-05-03T11:45:33+00:00",
            "hasPart": [
                {
                    "@id": "https://www.example.com/0"
                },
                {
                    "@id": "https://www.example.com/1"
                }
            ]
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": {
                "@id": "https://w3id.org/ro/crate/1.1"
            }
        },
        {
            "@id": "https://www.example.com/0",
            "@type": "File"
        },
        {
            "@id": "https://www.example.com/1",
            "@type": "File"
        }
    ]
}‚èé                                                                        

```
- data entities local:

Looks the same as the above one, but the entities used are locally present, generated by this [file](generate_data.py)
- mixture:

Adds the same amount of local data entities and person entities, each data entity then has as author one of the person entities.

```json
{
    "@context": "https://w3id.org/ro/crate/1.1/context",
    "@graph": [
        {
            "@id": "./",
            "@type": "Dataset",
            "datePublished": "2022-05-03T11:51:41+00:00",
            "hasPart": [
                {
                    "@id": "file0"
                },
                {
                    "@id": "file1"
                }
            ]
        },
        {
            "@id": "ro-crate-metadata.json",
            "@type": "CreativeWork",
            "about": {
                "@id": "./"
            },
            "conformsTo": {
                "@id": "https://w3id.org/ro/crate/1.1"
            }
        },
        {
            "@id": "file0",
            "@type": "File",
            "author": {
                "@id": "#id0"
            }
        },
        {
            "@id": "#id0",
            "@type": "Person",
            "name": "Joe Bloggs"
        },................
    ]
}
```
- mixture with deletion:

The same as the above, but then the entities are deleted starting with the person ones and ending with the data entities.

## 2. multiple crate performance

Here the amount of crates created varies, the entities inside a single crate are the same as the ones in the single crate mixture benchmark.
The benchmark is done in [this notebook](multiple_crates.ipynb)


## 3. read and write

Very similar to the previos test but the crates are written and then read (every single one of them).
This benchmark is done in [this notebook](read_write.ipynb)


# how to run
For the java library as of right now, one has to have it locally cloned.
The path is then provided in the notebooks (follow comments in the notebooks).

For ruby and python the libraries are installed as described in their readme's.

Don't forget to run the [file that generates the data entities](generate_data.py).

The results that I got can be seen in my paper in chapter Evaluation.
